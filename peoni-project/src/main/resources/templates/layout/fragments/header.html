<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<th:block th:fragment="headerFragment">
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container position-relative">

      <!-- 왼쪽: 로고 -->
      <a class="navbar-brand" th:href="@{/main}">
        <strong>마이 펴니</strong>
      </a>

      <!-- 가운데: 메뉴 (중앙정렬) -->
      <div class="position-absolute top-50 start-50 translate-middle-x d-none d-lg-block">
        <ul class="navbar-nav flex-row">
          <li class="nav-item mx-3">
            <a class="nav-link" th:href="@{/product/list}">상품</a>
          </li>
          <li class="nav-item mx-3">
            <a class="nav-link" href="#">이벤트</a>
          </li>
          <li class="nav-item mx-3">
            <a class="nav-link" href="#">매장안내</a>
          </li>
          <li class="nav-item mx-3">
            <a class="nav-link" th:href="@{/board/list}">커뮤니티</a>
          </li>
        </ul>
      </div>

      <!-- 오른쪽: 로그인/로그아웃 -->
      <div class="ms-auto d-flex align-items-center gap-2">
        <th:block th:if="${#authorization.expression('isAuthenticated()')}">
          <span class="text-secondary small" th:text="'안녕하세요, ' + ${#authentication.principal.member.userName} + '님!'">사용자이름</span>
          <a th:href="@{/member/mypage}" class="btn btn-outline-secondary btn-sm">마이페이지</a>
          <a th:href="@{/logout}" class="btn btn-outline-primary btn-sm">Logout</a>
        </th:block>

        <th:block th:unless="${#authorization.expression('isAuthenticated()')}">
          <a th:href="@{/member/login}" class="btn btn-outline-primary btn-sm">Login</a>
        </th:block>
      </div>

      <!-- 모바일용 메뉴 버튼 -->
      <button class="navbar-toggler ms-2" type="button" data-bs-toggle="collapse" data-bs-target="#mobileNav">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>

  </nav>
</th:block>
</body>
</html>
